<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>thparq.js - Put the Thpark Back in Your Vanilla JS</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a3e 100%);
            color: #e0e0e0;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Header */
        .header {
            text-align: center;
            padding: 3rem 0;
            position: relative;
        }

        .logo {
            font-size: 4rem;
            font-weight: 900;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #ffe66d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradient 3s ease infinite;
            letter-spacing: -0.05em;
            margin-bottom: 0.5rem;
        }

        @keyframes gradient {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .tagline {
            font-size: 1.2rem;
            color: #888;
            font-style: italic;
        }

        /* Demo sections */
        .demo-section {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .demo-section:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        h2 {
            font-size: 2rem;
            margin-bottom: 1rem;
            color: #4ecdc4;
        }

        /* Interactive elements */
        .box-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .box {
            background: rgba(78, 205, 196, 0.2);
            border: 2px solid #4ecdc4;
            border-radius: 10px;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .box::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .box.active {
            background: rgba(255, 107, 107, 0.3);
            border-color: #ff6b6b;
            transform: scale(1.05);
        }

        .box.active::before {
            width: 300px;
            height: 300px;
        }

        .btn {
            background: linear-gradient(45deg, #4ecdc4, #44a3aa);
            color: white;
            border: none;
            padding: 0.8rem 2rem;
            border-radius: 50px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 0.5rem;
            position: relative;
            overflow: hidden;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(78, 205, 196, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        /* Code display */
        .code-display {
            background: #0f0f23;
            border: 1px solid #333;
            border-radius: 10px;
            padding: 1rem;
            margin: 1rem 0;
            font-family: 'Fira Code', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
        }

        .code-display code {
            color: #4ecdc4;
        }

        /* Animated elements */
        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            pointer-events: none;
            animation: float 3s infinite ease-in-out;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        /* View Source Styles */
        .view-source-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(78, 205, 196, 0.2);
            border: 1px solid #4ecdc4;
            color: #4ecdc4;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
        }

        .view-source-btn:hover {
            background: rgba(78, 205, 196, 0.3);
            transform: translateY(-2px);
        }

        .demo-section {
            position: relative;
        }

        .source-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            overflow-y: auto;
        }

        .source-modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .source-content {
            background: #1a1a3e;
            border: 1px solid #4ecdc4;
            border-radius: 15px;
            max-width: 90vw;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .source-header {
            padding: 1rem 2rem;
            border-bottom: 1px solid #4ecdc4;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(78, 205, 196, 0.1);
        }

        .source-header h3 {
            color: #4ecdc4;
            margin: 0;
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #ff6b6b;
            cursor: pointer;
            padding: 0.25rem 0.5rem;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .close-modal:hover {
            background: rgba(255, 107, 107, 0.2);
        }

        .source-body {
            padding: 1.5rem;
        }

        .source-section {
            margin-bottom: 2rem;
        }

        .source-section h4 {
            color: #ffe66d;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .source-code {
            background: #0f0f23;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 1rem;
            overflow-x: auto;
            font-family: 'Fira Code', 'Monaco', 'Menlo', monospace;
            font-size: 0.85rem;
            line-height: 1.4;
            color: #e0e0e0;
        }

        .source-code .keyword {
            color: #ff6b6b;
        }

        .source-code .string {
            color: #4ecdc4;
        }

        .source-code .comment {
            color: #888;
            font-style: italic;
        }

        /* Form elements */
        .form-demo input {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 0.8rem;
            border-radius: 8px;
            margin: 0.5rem;
            transition: all 0.3s ease;
        }

        .form-demo input:focus {
            outline: none;
            border-color: #4ecdc4;
            box-shadow: 0 0 10px rgba(78, 205, 196, 0.3);
        }

        /* New Demo Section Styles */
        .form-controls {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-bottom: 1rem;
        }

        .form-output {
            margin-top: 1rem;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }

        .form-output h4 {
            margin-bottom: 0.5rem;
            color: #495057;
        }

        .form-output pre {
            background: #ffffff;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 0.75rem;
            max-height: 200px;
            overflow-y: auto;
            font-size: 0.875rem;
            color: #212529;
        }

        .placeholder {
            color: #6c757d;
            font-style: italic;
        }

        /* Card System Styles */
        .card-demo {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid #e9ecef;
        }

        .card-controls {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-bottom: 1.5rem;
        }

        .card-containers {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
        }

        .card-zone {
            background: #ffffff;
            border: 2px dashed #dee2e6;
            border-radius: 8px;
            padding: 1rem;
            min-height: 250px;
        }

        .card-zone h4 {
            margin-bottom: 1rem;
            color: #495057;
            text-align: center;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #e9ecef;
        }

        .card {
            background: #ffffff;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            padding: 0.75rem;
            margin-bottom: 0.75rem;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .card.selected {
            background: #e3f2fd;
            border-color: #2196f3;
            box-shadow: 0 2px 8px rgba(33, 150, 243, 0.3);
        }

        .card-content {
            color: #212529;
        }

        .card-content h4 {
            color: #212529;
            margin: 0 0 0.5rem 0;
            font-weight: 600;
        }

        .card-content p {
            color: #495057;
            margin: 0 0 0.75rem 0;
        }

        .card-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .star {
            font-size: 1.25rem;
            cursor: pointer;
            color: #ffc107;
            transition: all 0.2s ease;
        }

        .star:hover {
            transform: scale(1.2);
        }

        .star.starred {
            color: #ff9800;
            text-shadow: 0 0 4px rgba(255, 152, 0, 0.5);
        }

        .card.dragging {
            opacity: 0.5;
            transform: rotate(5deg);
            z-index: 1000;
        }

        .card.drag-over {
            border: 2px dashed #007bff;
            background: #f0f8ff;
            transform: scale(1.02);
        }

        .card[draggable="true"] {
            cursor: grab;
        }

        .card[draggable="true"]:active {
            cursor: grabbing;
        }

        .card.completed {
            background: #f8f9fa;
            opacity: 0.8;
        }

        .card.dragging {
            opacity: 0.5;
            transform: rotate(5deg);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .card-title {
            font-weight: 600;
            color: #212529;
        }

        .star {
            cursor: pointer;
            opacity: 0.3;
            transition: opacity 0.2s ease;
        }

        .star.starred {
            opacity: 1;
        }

        .card-body {
            color: #6c757d;
            font-size: 0.9rem;
        }

        /* Tree Explorer Styles */
        .tree-demo {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid #e9ecef;
        }

        .tree-controls {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-bottom: 1.5rem;
        }

        .dom-tree {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1rem;
            font-family: 'Courier New', monospace;
        }

        .tree-node {
            margin-left: calc(var(--level, 1) * 20px);
            margin-bottom: 0.5rem;
            position: relative;
        }

        .tree-node[data-level="1"] { --level: 0; }
        .tree-node[data-level="2"] { --level: 1; }
        .tree-node[data-level="3"] { --level: 2; }
        .tree-node[data-level="4"] { --level: 3; }

        .node-label {
            display: inline-block;
            padding: 0.4rem 0.8rem;
            background: #6c757d;
            color: #ffffff;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 500;
            border: 1px solid #495057;
        }

        .node-label:hover {
            background: #5a6268;
            transform: translateX(4px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }

        .tree-node.highlighted .node-label {
            background: #ffc107;
            color: #212529;
            font-weight: bold;
            border-color: #ffc107;
        }

        .tree-node.parent-highlighted .node-label {
            background: #007bff;
            color: #ffffff;
            border-color: #007bff;
        }

        .tree-node.child-highlighted .node-label {
            background: #28a745;
            color: #ffffff;
            border-color: #28a745;
        }

        /* Chat Simulator Styles */
        .chat-demo {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid #e9ecef;
        }

        .chat-controls {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-bottom: 1rem;
        }

        .chat-window {
            background: #ffffff;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            height: 300px;
            overflow-y: auto;
            padding: 1rem;
            margin-bottom: 1rem;
            font-family: system-ui, sans-serif;
        }

        .chat-input-area {
            display: flex;
            gap: 0.75rem;
            align-items: center;
            padding: 0.5rem;
            background: #f8f9fa;
            border-radius: 30px;
            border: 1px solid #e9ecef;
        }

        .chat-input-area .chat-input {
            flex: 1;
            padding: 0.75rem 1rem;
            border: 2px solid #ced4da;
            border-radius: 25px;
            font-size: 0.9rem;
            background: #ffffff;
            transition: all 0.2s ease;
            outline: none;
        }

        .chat-input-area .chat-input:focus {
            border-color: #4ecdc4;
            box-shadow: 0 0 0 3px rgba(78, 205, 196, 0.1);
        }

        .chat-input {
            flex: 1;
            padding: 0.75rem 1rem;
            border: 2px solid #ced4da;
            border-radius: 25px;
            font-size: 0.9rem;
            background: #ffffff;
            transition: all 0.2s ease;
            outline: none;
        }

        .chat-input:focus {
            border-color: #4ecdc4;
            box-shadow: 0 0 0 3px rgba(78, 205, 196, 0.1);
        }

        .chat-stats {
            margin-top: 0.5rem;
            font-size: 0.8rem;
            color: #6c757d;
        }

        .message {
            margin-bottom: 0.75rem;
            padding: 0.5rem 0.75rem;
            border-radius: 18px;
            max-width: 80%;
            word-wrap: break-word;
        }

        .message.user {
            background: #007bff;
            color: white;
            margin-left: auto;
            text-align: right;
        }

        .message.bot {
            background: #e9ecef;
            color: #212529;
        }

        .message.system {
            background: #fff3cd;
            color: #856404;
            text-align: center;
            font-style: italic;
            margin: 0 auto;
        }

        /* Code Playground Styles */
        .playground-demo {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid #e9ecef;
        }

        .playground-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .code-editor {
            background: #ffffff;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            overflow: hidden;
        }

        .editor-header {
            background: #343a40;
            color: white;
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
            font-weight: 500;
        }

        .code-textarea {
            width: 100%;
            height: 250px;
            border: none;
            padding: 1rem;
            font-family: 'Courier New', monospace;
            font-size: 0.875rem;
            line-height: 1.5;
            resize: none;
            background: #fafafa;
            box-sizing: border-box;
            min-width: 100%;
        }

        /* Ensure textarea styling is applied */
        #code-editor {
            width: 100%;
            height: 250px;
            border: none;
            padding: 1rem;
            font-family: 'Courier New', monospace;
            font-size: 0.875rem;
            line-height: 1.5;
            resize: none;
            background: #fafafa;
            box-sizing: border-box;
        }

        .playground-controls {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .output-panel {
            background: #ffffff;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            overflow: hidden;
        }

        .output-content {
            padding: 1rem;
            min-height: 250px;
            font-family: system-ui, sans-serif;
        }

        .demo-targets div {
            color: /* gray */ #666;
        }

        .target-elements {
            margin-top: 1rem;
        }

        .target-element {
            padding: 0.75rem;
            margin-bottom: 0.5rem;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            background: #ffffff;
            transition: all 0.2s ease;
        }

        @media (max-width: 768px) {
            .card-containers,
            .playground-layout {
                grid-template-columns: 1fr;
            }
            
            .form-controls,
            .card-controls,
            .tree-controls,
            .chat-controls {
                flex-direction: column;
            }
        }

        /* Animation showcase */
        .animation-box {
            width: 100px;
            height: 100px;
            background: linear-gradient(45deg, #ff6b6b, #ffe66d);
            margin: 2rem auto;
            border-radius: 10px;
            transition: all 0.5s ease;
        }

        .animation-box.spinning {
            animation: spin 2s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Results display */
        .result {
            background: rgba(255, 255, 255, 0.05);
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            border-left: 4px solid #4ecdc4;
        }

        .hidden {
            display: none;
        }

        /* FAQ styling */
        .faq-item {
            margin: 1rem 0;
            border-radius: 10px;
            overflow: hidden;
            background: rgba(255, 255, 255, 0.05);
        }

        .question {
            padding: 1.5rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.3s ease;
        }

        .question:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .question::after {
            content: '+';
            font-size: 1.5rem;
            transition: transform 0.3s ease;
        }

        .question.open::after {
            transform: rotate(45deg);
        }

        .answer {
            padding: 0 1.5rem 1.5rem;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
        }

        .answer:not(.hidden) {
            max-height: 200px;
            padding: 1.5rem;
        }

        /* Loading animation */
        .loader {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(255, 255, 255, 0.1);
            border-top-color: #4ecdc4;
            border-radius: 50%;
            margin: 2rem auto;
            animation: spin 1s linear infinite;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 3rem 0;
            color: #666;
        }

        .footer a {
            color: #4ecdc4;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <!-- thparq injection -->
    <script>
        const _$ogpo=Object.getPrototypeOf;const _$ospo=Object.setPrototypeOf;const _$nlp=NodeList.prototype;const $=t=>{if("string"==typeof t){let e=document.querySelectorAll(t);return _$ogpo(e).$eon||_$ospo(e,_$nlp),e}if(t instanceof Node){let o=[t];return _$ogpo(o).$eon||_$ospo(o,_$nlp),o}if(t instanceof NodeList)return _$ogpo(t).$eon||_$ospo(t,_$nlp),t;let r=[];return _$ospo(r,_$nlp),r},$ea=(t,e)=>($(t).forEach((el,i)=>e(i,el)),$(t)),$eon=(t,e,o)=>($(t).forEach(t=>t.addEventListener(e,o)),$(t)),$addClass=(t,e)=>($(t).forEach(t=>t.classList.add(e)),$(t)),$removeClass=(t,e)=>($(t).forEach(t=>t.classList.remove(e)),$(t)),$toggleClass=(t,e)=>($(t).forEach(t=>t.classList.toggle(e)),$(t)),$css=(t,e)=>($(t).forEach(t=>Object.assign(t.style,e)),$(t)),$attr=(t,e,o)=>void 0===o?$(t)[0]?.getAttribute(e):($(t).forEach(t=>t.setAttribute(e,o)),$(t)),$html=(t,e)=>void 0===e?$(t)[0]?.innerHTML:($(t).forEach(t=>t.innerHTML=e),$(t)),$text=(t,e)=>void 0===e?$(t)[0]?.textContent:($(t).forEach(t=>t.textContent=e),$(t)),$get=t=>fetch(t).then(t=>t.text()),$getJSON=t=>fetch(t).then(t=>t.json()),$1st=t=>$(t)[0]||null,$1ast=t=>$(t)[$(t).length-1]||null,$len=t=>$(t).length,$val=(t,e)=>void 0===e?$(t)[0]?.value:($(t).forEach(t=>t.value=e),$(t)),$hasClass=(t,e)=>$(t)[0]?.classList.contains(e)||!1,$append=(t,e)=>($(t).forEach(t=>{"string"==typeof e?t.insertAdjacentHTML("beforeend",e):e instanceof Node&&t.appendChild(e)}),$(t)),$prepend=(t,e)=>($(t).forEach(t=>{"string"==typeof e?t.insertAdjacentHTML("afterbegin",e):e instanceof Node&&t.insertBefore(e,t.firstChild)}),$(t)),$remove=t=>($(t).forEach(t=>t.remove()),$(t)),$parent=t=>{const e=Array.from($(t)).map(t=>t.parentElement).filter(Boolean),o=[...new Set(e)];return _$ospo(o,_$nlp),o},$find=(t,e)=>{const o=[];$(t).forEach(t=>{o.push(...t.querySelectorAll(e))});const r=[...new Set(o)];return _$ospo(r,_$nlp),r},$show=t=>($(t).forEach(t=>t.style.display=""),$(t)),$hide=t=>($(t).forEach(t=>t.style.display="none"),$(t)),$data=(t,e,o)=>{if(void 0===o)return void 0===e?$(t)[0]?.dataset:$(t)[0]?.dataset[e];return $(t).forEach(t=>t.dataset[e]=o),$(t)},$eonDelegated=(t,e,o,r)=>{return"function"==typeof o?$eon(t,e,o):($(t).forEach(t=>{t.addEventListener(e,t=>{t.target.matches(o)&&r.call(t.target,t)})}),$(t))};_$nlp.$ea=function(t){return $ea(this,t)},_$nlp.$eon=function(t,e,o){return o?$eonDelegated(this,t,e,o):$eon(this,t,e)},_$nlp.$addClass=function(t){return $addClass(this,t)},_$nlp.$removeClass=function(t){return $removeClass(this,t)},_$nlp.$toggleClass=function(t){return $toggleClass(this,t)},_$nlp.$css=function(t){return $css(this,t)},_$nlp.$attr=function(t,e){return $attr(this,t,e)},_$nlp.$html=function(t){return $html(this,t)},_$nlp.$text=function(t){return $text(this,t)},_$nlp.$len=function(){return $len(this)},_$nlp.$val=function(t){return $val(this,t)},_$nlp.$hasClass=function(t){return $hasClass(this,t)},_$nlp.$append=function(t){return $append(this,t)},_$nlp.$prepend=function(t){return $prepend(this,t)},_$nlp.$remove=function(){return $remove(this)},_$nlp.$parent=function(){return $parent(this)},_$nlp.$find=function(t){return $find(this,t)},_$nlp.$show=function(){return $show(this)},_$nlp.$hide=function(){return $hide(this)},_$nlp.$data=function(t,e){return $data(this,t,e)},_$nlp.$eonDelegated=function(t,e,o){return $eonDelegated(this,t,e,o)};
    </script>

    <div class="container">
        <header class="header">
            <h1 class="logo">thparq</h1>
            <p class="tagline">"For those who once loved jQuery, but now live vanilla."</p>
            <div class="particle" style="width: 4px; height: 4px; top: 20%; left: 10%;"></div>
            <div class="particle" style="width: 6px; height: 6px; top: 60%; left: 90%; animation-delay: 1s;"></div>
            <div class="particle" style="width: 3px; height: 3px; top: 80%; left: 30%; animation-delay: 2s;"></div>
        </header>

        <!-- Interactive Box Demo -->
        <section class="demo-section" data-demo="box-demo">
            <button class="view-source-btn" data-demo="box-demo">üëÅÔ∏è View Source</button>
            <h2>üéØ Interactive Elements</h2>
            <p>Click the boxes to see thparq in action!</p>
            <div class="box-grid">
                <div class="box">Box 1</div>
                <div class="box">Box 2</div>
                <div class="box">Box 3</div>
                <div class="box">Box 4</div>
                <div class="box">Box 5</div>
                <div class="box">Box 6</div>
            </div>
            <div class="code-display">
                <code>$('.box').$eon('click', function() {
    $(this).$toggleClass('active');
});</code>
            </div>
            <button class="btn" id="reset-boxes">Reset All Boxes</button>
            <button class="btn" id="activate-all">Activate All</button>
            <button class="btn" id="count-active">Count Active</button>
            <div class="result" id="count-result"></div>
        </section>

        <!-- Chaining Demo -->
        <section class="demo-section" data-demo="chaining-demo">
            <button class="view-source-btn" data-demo="chaining-demo">üëÅÔ∏è View Source</button>
            <h2>‚õìÔ∏è Method Chaining Magic</h2>
            <p>Watch how multiple operations chain together seamlessly!</p>
            <div class="animation-box" id="chain-demo"></div>
            <button class="btn" id="chain-btn">Run Chain Animation</button>
            <div class="code-display">
                <code>$('#chain-demo')
    .$addClass('spinning')
    .$css({ borderRadius: '50%', background: 'linear-gradient(45deg, #4ecdc4, #44a3aa)' })
    .$attr('data-animated', 'true');</code>
            </div>
        </section>

        <!-- Event Handling Demo -->
        <section class="demo-section" data-demo="event-demo">
            <button class="view-source-btn" data-demo="event-demo">üëÅÔ∏è View Source</button>
            <h2>üé™ Event Handling</h2>
            <p>Type something and watch the magic happen!</p>
            <div class="form-demo">
                <input type="text" id="text-input" placeholder="Type something...">
                <div class="result" id="text-result">Start typing to see live updates!</div>
            </div>
            <div class="code-display">
                <code>$('#text-input').$eon('input', function() {
    $('#text-result').$text(`You typed: ${this.value}`);
});</code>
            </div>
        </section>

        <!-- Dynamic Form Builder Demo -->
        <section class="demo-section" data-demo="form-builder">
            <button class="view-source-btn" data-demo="form-builder">üëÅÔ∏è View Source</button>
            <h2>üèóÔ∏è Dynamic Form Builder</h2>
            <p>Watch as thparq creates forms on the fly with $append(), $val(), and event delegation!</p>
            <div id="form-builder">
                <div class="form-controls">
                    <button class="btn" data-field="text">Add Text Field</button>
                    <button class="btn" data-field="email">Add Email Field</button>
                    <button class="btn" data-field="select">Add Dropdown</button>
                    <button class="btn" data-field="clear">Clear All</button>
                </div>
                <form id="dynamic-form" style="margin-top: 1rem; padding: 1rem; border: 2px dashed #ddd; min-height: 100px;">
                    <p class="placeholder">Your dynamic form will appear here...</p>
                </form>
                <div class="form-output">
                    <h4>Live Form Data:</h4>
                    <pre id="form-data">{}</pre>
                </div>
            </div>
        </section>

        <!-- Interactive Card System -->
        <section class="demo-section" data-demo="card-system">
            <button class="view-source-btn" data-demo="card-system">üëÅÔ∏è View Source</button>
            <h2>üÉè Interactive Card System</h2>
            <p>Drag & drop cards with $parent(), $find(), $data(), and dynamic styling!</p>
            <div class="card-demo">
                <div class="card-controls">
                    <button class="btn" id="add-card">Add Card</button>
                    <button class="btn" id="shuffle-cards">Shuffle</button>
                    <button class="btn" id="filter-starred">Show Starred Only</button>
                    <button class="btn" id="show-all-cards">Show All</button>
                </div>
                <div id="card-container" class="card-containers">
                    <!-- Cards will be dynamically rendered here -->
                </div>
            </div>
        </section>

        <!-- Live Element Tree Explorer -->
        <section class="demo-section" data-demo="tree-explorer">
            <button class="view-source-btn" data-demo="tree-explorer">üëÅÔ∏è View Source</button>
            <h2>üå≥ DOM Tree Explorer</h2>
            <p>Explore parent-child relationships with $parent() and $find()!</p>
            <div class="tree-demo">
                <div class="tree-controls">
                    <button class="btn" id="highlight-parents">Highlight Parents</button>
                    <button class="btn" id="highlight-children">Highlight Children</button>
                    <button class="btn" id="hide-some">Hide Some</button>
                    <button class="btn" id="show-hidden">Show Hidden</button>
                    <button class="btn" id="reset-tree">Reset</button>
                </div>
                <div class="dom-tree">
                    <div class="tree-node" data-level="1">
                        <span class="node-label">Root Container</span>
                        <div class="tree-node" data-level="2">
                            <span class="node-label">Section A</span>
                            <div class="tree-node" data-level="3">
                                <span class="node-label">Item 1</span>
                            </div>
                            <div class="tree-node" data-level="3">
                                <span class="node-label">Item 2</span>
                            </div>
                        </div>
                        <div class="tree-node" data-level="2">
                            <span class="node-label">Section B</span>
                            <div class="tree-node" data-level="3">
                                <span class="node-label">Item 3</span>
                            </div>
                            <div class="tree-node" data-level="3" data-special="true">
                                <span class="node-label">Special Item</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tree-info">
                    <h4>Selection Info:</h4>
                    <div id="selection-info">Click on any node to see its relationships!</div>
                </div>
            </div>
        </section>

        <!-- Real-time Chat Simulator -->
        <section class="demo-section" data-demo="chat-simulator">
            <button class="view-source-btn" data-demo="chat-simulator">üëÅÔ∏è View Source</button>
            <h2>üí¨ Real-time Chat Simulator</h2>
            <p>See $prepend(), $append(), $hasClass(), and event delegation in action!</p>
            <div class="chat-demo">
                <div class="chat-container">
                    <div class="chat-header">
                        <h4>thparq Chat Demo</h4>
                        <div class="chat-controls">
                            <button class="btn btn-sm" id="auto-chat">Auto Chat</button>
                            <button class="btn btn-sm" id="clear-chat">Clear</button>
                        </div>
                    </div>
                    <div class="chat-messages" id="chat-messages">
                        <div class="message bot">
                            <div class="message-avatar">ü§ñ</div>
                            <div class="message-content">
                                <div class="message-text">Welcome! Try typing a message below.</div>
                                <div class="message-time">Now</div>
                            </div>
                        </div>
                    </div>
                    <div class="chat-input-area">
                        <input type="text" id="message-input" class="chat-input" placeholder="Type your message..." maxlength="100">
                        <button class="btn" id="send-message">Send</button>
                    </div>
                    <div class="chat-stats" id="chat-stats">
                        Messages: <span id="message-count">1</span> | 
                        Characters: <span id="char-count">0</span>/100
                    </div>
                </div>
            </div>
        </section>

        <!-- Live Code Playground -->
        <section class="demo-section" data-demo="code-playground">
            <button class="view-source-btn" data-demo="code-playground">üëÅÔ∏è View Source</button>
            <h2>üöÄ Live Code Playground</h2>
            <p>Write thparq code and see it execute in real-time!</p>
            <div class="playground">
                <div class="playground-editor">
                    <h4>Code Editor:</h4>
                    <textarea id="code-editor" rows="6" placeholder="// Try some thparq code!
$('.demo-target').$css({background: 'gold'}).$text('Hello thparq!');">$('.demo-target')
  .$css({background: 'lightblue', padding: '1rem'})
  .$html('<strong>Dynamic Content!</strong>')
  .$addClass('animated');</textarea>
                    <div class="playground-controls">
                        <button class="btn" id="run-code">‚ñ∂Ô∏è Run Code</button>
                        <button class="btn" id="reset-playground">üîÑ Reset</button>
                        <select id="code-examples">
                            <option value="">Choose Example...</option>
                            <option value="basic">Dynamic Styling</option>
                            <option value="manipulation">Form Manipulation</option>
                            <option value="chaining">Method Chaining</option>
                            <option value="events">Event Handling</option>
                        </select>
                    </div>
                </div>
                <div class="playground-output">
                    <h4>Live Output:</h4>
                    <div class="demo-targets">
                        <div class="demo-target">Target Element 1</div>
                        <div class="demo-target">Target Element 2</div>
                        <div class="demo-target">Target Element 3</div>
                    </div>
                    <div id="console-output"></div>
                </div>
            </div>
        </section>

        <footer class="footer">
            <p>Made with ‚ù§Ô∏è using <a href="https://github.com/stimpy77/thparq" target="_blank">thparq.js</a></p>
            <p>Drop-in jQuery alternative for the modern web - Now with <strong>13 new jQuery methods!</strong></p>
            <div class="method-showcase">
                <code>$val() $hasClass() $append() $prepend() $remove() $parent() $find() $show() $hide() $data() + event delegation</code>
            </div>
        </footer>
    </div>

    <!-- Source Code Modal -->
    <div id="source-modal" class="source-modal">
        <div class="source-content">
            <div class="source-header">
                <h3 id="modal-title">Demo Source Code</h3>
                <button class="close-modal" id="close-modal">&times;</button>
            </div>
            <div class="source-body" id="modal-body">
                <!-- Source code sections will be populated here -->
            </div>
        </div>
    </div>

    <script>
        // ===== VIEW SOURCE MODAL FUNCTIONALITY =====
        const sourceCode = {
            'box-demo': {
                title: 'üéØ Interactive Box Demo',
                sections: {
                    'HTML': `<div class="box-grid">
    <div class="box">Box 1</div>
    <div class="box">Box 2</div>
    <div class="box">Box 3</div>
    <div class="box">Box 4</div>
</div>
<div class="demo-controls">
    <button class="btn" id="reset-boxes">Reset All</button>
    <button class="btn" id="activate-all">Activate All</button>
    <button class="btn" id="count-active">Count Active</button>
</div>`,
                    'JavaScript': `// Box interaction
$('.box').$eon('click', function() {
    $(this).$toggleClass('active');
    updateStats();
});

// Reset boxes
$('#reset-boxes').$eon('click', () => {
    $('.box').$removeClass('active');
    $('#count-result').$text('All boxes reset!');
    updateStats();
});

// Activate all boxes
$('#activate-all').$eon('click', () => {
    $('.box').$addClass('active');
    $('#count-result').$text('All boxes activated!');
    updateStats();
});

// Count active boxes
$('#count-active').$eon('click', () => {
    const count = $len('.box.active');
    $('#count-result').$text(\`Active boxes: \${count} out of \${$len('.box')}\`);
});`
                }
            },
            'chaining-demo': {
                title: '‚õìÔ∏è Method Chaining Magic',
                sections: {
                    'HTML': `<div class="animation-box" id="chain-demo"></div>
<button class="btn" id="chain-btn">Trigger Chain Animation</button>`,
                    'JavaScript': `// Chain demo
$('#chain-btn').$eon('click', () => {
    $('#chain-demo')
        .$css({ transform: 'scale(1)', borderRadius: '10px', background: 'linear-gradient(45deg, #ff6b6b, #ffe66d)' })
        .$removeClass('spinning');
    
    setTimeout(() => {
        $('#chain-demo')
            .$addClass('spinning')
            .$css({ 
                borderRadius: '50%', 
                background: 'linear-gradient(45deg, #4ecdc4, #44a3aa)',
                transform: 'scale(1.2)'
            })
            .$attr('data-animated', 'true');
    }, 100);
});`
                }
            },
            'event-demo': {
                title: 'üé™ Event Handling',
                sections: {
                    'HTML': `<div class="form-demo">
    <input type="text" id="text-input" placeholder="Type something...">
    <div class="result" id="text-result">Start typing to see live updates!</div>
</div>`,
                    'JavaScript': `// Text input demo
$('#text-input').$eon('input', function() {
    const value = this.value;
    if (value.length > 0) {
        $('#text-result')
            .$text(\`You typed: \${value}\`)
            .$css({ color: '#4ecdc4', fontWeight: 'bold' });
    } else {
        $('#text-result')
            .$text('Start typing to see live updates!')
            .$css({ color: '#888', fontWeight: 'normal' });
    }
});`
                }
            },
            'form-builder': {
                title: 'üèóÔ∏è Dynamic Form Builder',
                sections: {
                    'HTML': `<div id="form-builder">
    <div class="form-controls">
        <button class="btn" data-field="text">Add Text Field</button>
        <button class="btn" data-field="email">Add Email Field</button>
        <button class="btn" data-field="select">Add Dropdown</button>
        <button class="btn" data-field="clear">Clear All</button>
    </div>
    <form id="dynamic-form">
        <p class="placeholder">Your dynamic form will appear here...</p>
    </form>
    <div class="form-output">
        <h4>Live Form Data:</h4>
        <pre id="form-data">{}</pre>
    </div>
</div>`,
                    'JavaScript': `// Event delegation for form builder buttons
$('#form-builder').$eonDelegated('click', '[data-field]', function() {
    const fieldType = $(this).$data('field');
    const form = $('#dynamic-form');
    
    if (fieldType === 'clear') {
        form.$html('<p class="placeholder">Your dynamic form will appear here...</p>');
        fieldCounter = 0;
    } else {
        // Remove placeholder if it exists
        form.$find('.placeholder').$remove();
        
        fieldCounter++;
        let fieldHtml = '';
        
        switch(fieldType) {
            case 'text':
                fieldHtml = \`<div class="form-field">
                    <label for="field-\${fieldCounter}">Text Field \${fieldCounter}:</label>
                    <input type="text" id="field-\${fieldCounter}" name="field-\${fieldCounter}" placeholder="Enter text...">
                </div>\`;
                break;
            case 'email':
                fieldHtml = \`<div class="form-field">
                    <label for="field-\${fieldCounter}">Email Field \${fieldCounter}:</label>
                    <input type="email" id="field-\${fieldCounter}" name="field-\${fieldCounter}" placeholder="Enter email...">
                </div>\`;
                break;
            case 'select':
                fieldHtml = \`<div class="form-field">
                    <label for="field-\${fieldCounter}">Dropdown \${fieldCounter}:</label>
                    <select id="field-\${fieldCounter}" name="field-\${fieldCounter}">
                        <option value="">Choose option...</option>
                        <option value="option1">Option 1</option>
                        <option value="option2">Option 2</option>
                        <option value="option3">Option 3</option>
                    </select>
                </div>\`;
                break;
        }
        
        form.$append(fieldHtml);
    }
    
    updateFormData();
});

// Event delegation for form inputs
$('#dynamic-form').$eonDelegated('input', 'input, select', function() {
    updateFormData();
});`
                }
            },
            'card-system': {
                title: 'üÉè Interactive Card System',
                sections: {
                    'HTML': `<div class="card-demo">
    <div class="card-controls">
        <button class="btn" id="add-card">Add Card</button>
        <button class="btn" id="shuffle-cards">Shuffle</button>
        <button class="btn" id="filter-starred">Show Starred Only</button>
        <button class="btn" id="show-all-cards">Show All</button>
    </div>
    <div id="card-container" class="card-containers">
        <!-- Cards will be dynamically rendered here -->
    </div>
</div>`,
                    'JavaScript': `let cardIdCounter = 3;
let cards = [
    { id: 1, title: 'Task #1', description: 'Sample task card', starred: false, selected: false },
    { id: 2, title: 'Task #2', description: 'Important starred task', starred: true, selected: false },
    { id: 3, title: 'Task #3', description: '‚úÖ Completed task', starred: false, selected: false }
];

function renderCards() {
    const cardContainer = $('#card-container');
    const starredOnly = cardContainer.$data('starredOnly') === 'true';
    
    cardContainer.$html('');
    
    const filteredCards = starredOnly ? cards.filter(card => card.starred) : cards;
    
    filteredCards.forEach(card => {
        const cardHtml = \`
            <div class="card \${card.selected ? 'selected' : ''}" data-id="\${card.id}" draggable="true">
                <div class="card-content">
                    <h4>‚ò∞ \${card.title}</h4>
                    <p>\${card.description}</p>
                    <div class="card-meta">
                        <span class="star \${card.starred ? 'starred' : ''}" data-id="\${card.id}">‚òÖ</span>
                        <small>ID: \${card.id}\${card.selected ? ' | Selected' : ''}</small>
                    </div>
                </div>
            </div>
        \`;
        cardContainer.$append(cardHtml);
    });
    
    attachDragEvents();
}

// Event delegation for star toggling
$('#card-container').$eonDelegated('click', '.star', function(e) {
    e.stopPropagation();
    const cardId = parseInt($(this).$data('id'));
    const card = cards.find(c => c.id === cardId);
    if (card) {
        card.starred = !card.starred;
        renderCards();
    }
});`
                }
            },
            'tree-explorer': {
                title: 'üå≥ DOM Tree Explorer',
                sections: {
                    'HTML': `<div class="tree-demo">
    <div class="tree-controls">
        <button class="btn" id="highlight-parents">Highlight Parents</button>
        <button class="btn" id="highlight-children">Highlight Children</button>
        <button class="btn" id="hide-some">Hide Some</button>
        <button class="btn" id="show-hidden">Show Hidden</button>
        <button class="btn" id="reset-tree">Reset</button>
    </div>
    <div class="dom-tree">
        <div class="tree-node" data-level="1">
            <span class="node-label">Root Container</span>
            <div class="tree-node" data-level="2">
                <span class="node-label">Section A</span>
                <div class="tree-node" data-level="3">
                    <span class="node-label">Item 1</span>
                </div>
                <div class="tree-node" data-level="3">
                    <span class="node-label">Item 2</span>
                </div>
            </div>
        </div>
    </div>
</div>`,
                    'JavaScript': `$('#highlight-parents').$eon('click', function() {
    // Reset all highlighting
    $('.tree-node').$removeClass('highlighted').$removeClass('parent-highlighted').$removeClass('child-highlighted');
    
    // Highlight level 2 nodes (Section A, Section B) as they are parents
    $('.tree-node[data-level="2"]').$ea((i, node) => {
        $(node).$addClass('parent-highlighted');
    });
    
    // Highlight level 1 (Root Container) as the ultimate parent
    $('.tree-node[data-level="1"]').$addClass('highlighted');
});

$('#highlight-children').$eon('click', function() {
    // Reset all highlighting
    $('.tree-node').$removeClass('highlighted').$removeClass('parent-highlighted').$removeClass('child-highlighted');
    
    // Highlight level 3 nodes (Item 1, 2, 3, Special Item) as they are children
    $('.tree-node[data-level="3"]').$ea((i, node) => {
        $(node).$addClass('child-highlighted');
    });
    
    // Highlight level 2 as the intermediate nodes
    $('.tree-node[data-level="2"]').$addClass('highlighted');
});

// Interactive node clicking
$('.tree-demo').$eonDelegated('click', '.node-label', function() {
    const node = $(this).$parent();
    const level = node.$data('level');
    
    // Toggle highlighting for clicked node and show relationships
    $('.tree-node').$removeClass('highlighted').$removeClass('parent-highlighted').$removeClass('child-highlighted');
    node.$addClass('highlighted');
    
    // Highlight parents
    node.$parent().$addClass('parent-highlighted');
    
    // Highlight children
    node.$find('.tree-node').$addClass('child-highlighted');
});`
                }
            },
            'chat-simulator': {
                title: 'üí¨ Real-time Chat Simulator',
                sections: {
                    'HTML': `<div class="chat-demo">
    <div class="chat-container">
        <div class="chat-messages" id="chat-messages">
            <div class="message system">Welcome to the thparq chat demo!</div>
        </div>
        <div class="chat-input-area">
            <input type="text" id="message-input" class="chat-input" placeholder="Type your message..." maxlength="100">
            <button class="btn" id="send-message">Send</button>
        </div>
        <div class="chat-stats" id="chat-stats">
            Messages: <span id="message-count">1</span> | 
            Characters: <span id="char-count">0</span>/100
        </div>
    </div>
</div>`,
                    'JavaScript': `let messageCount = 0;
const botResponses = [
    "That's interesting! ü§î",
    "Tell me more!",
    "I see what you mean üëç",
    "Thanks for sharing!",
    "That sounds great! üòä",
    "Cool story! üìö",
    "Awesome! ‚≠ê"
];

$('#send-message').$eon('click', function() {
    const input = $('#message-input');
    const message = input.$val();
    
    if (message && message.trim()) {
        addMessage('user', message.trim());
        input.$val('');
        
        // Simulate bot response
        setTimeout(() => {
            const response = botResponses[Math.floor(Math.random() * botResponses.length)];
            addMessage('bot', response);
        }, 500 + Math.random() * 1000);
    }
});

function addMessage(type, text) {
    messageCount++;
    const messageHtml = \`<div class="message \${type}">\${text}</div>\`;
    
    $('#chat-messages').$append(messageHtml);
    
    // Scroll to bottom
    const chatWindow = $('#chat-messages')[0];
    chatWindow.scrollTop = chatWindow.scrollHeight;
    
    updateChatStats();
}

// Enter key support for chat
$('#message-input').$eon('keypress', function(e) {
    if (e.key === 'Enter') {
        $('#send-message')[0].click();
    }
});`
                }
            },
            'code-playground': {
                title: 'üöÄ Live Code Playground',
                sections: {
                    'HTML': `<div class="playground">
    <div class="playground-editor">
        <h4>Code Editor:</h4>
        <textarea id="code-editor" rows="6" placeholder="// Try some thparq code!">$('.demo-target')
  .$css({background: 'lightblue', padding: '1rem'})
  .$html('<strong>Dynamic Content!</strong>')
  .$addClass('animated');</textarea>
        <div class="playground-controls">
            <button class="btn" id="run-code">‚ñ∂Ô∏è Run Code</button>
            <button class="btn" id="reset-playground">üîÑ Reset</button>
            <select id="code-examples">
                <option value="">Choose Example...</option>
                <option value="basic">Dynamic Styling</option>
                <option value="manipulation">Form Manipulation</option>
                <option value="chaining">Method Chaining</option>
                <option value="events">Event Handling</option>
            </select>
        </div>
    </div>
    <div class="playground-output">
        <h4>Live Output:</h4>
        <div class="demo-targets">
            <div class="demo-target">Target Element 1</div>
            <div class="demo-target">Target Element 2</div>
            <div class="demo-target">Target Element 3</div>
        </div>
        <div id="console-output"></div>
    </div>
</div>`,
                    'JavaScript': `const playgroundExamples = {
    'basic': \`$('.demo-target')
  .$css({background: 'lightblue', padding: '1rem'})
  .$html('<strong>Dynamic Content!</strong>')
  .$addClass('animated');\`,
    'chaining': \`$('.demo-target')
  .$text('Chaining Demo')
  .$css({color: 'purple', fontSize: '1.2rem'})
  .$addClass('highlight')
  .$data('demo', 'true');\`,
    'events': \`$('.demo-target').$ea((i, el) => {
  $(el).$css({background: \\\`hsl(\\\${i * 60}, 70%, 80%)\\\`})
       .$text(\\\`Element \\\${i + 1}\\\`);
});\`,
    'manipulation': \`$('.demo-target')
  .$append('<div>Appended content</div>')
  .$prepend('<div>Prepended content</div>')
  .$show();\`
};

$('#run-code').$eon('click', function() {
    const code = $('#code-editor').$val();
    
    try {
        // Reset target elements
        resetPlayground();
        
        // Execute the code
        eval(code);
        
        $('#playground-output').$css({color: '#28a745'})
            .$html('<strong>‚úÖ Code executed successfully!</strong><br>Check the target elements below.');
    } catch (error) {
        $('#playground-output').$css({color: '#dc3545'})
            .$html(\`<strong>‚ùå Error:</strong><br>\${error.message}\`);
    }
});

function resetPlayground() {
    $('.demo-target').$ea((i, el) => {
        $(el).$removeClass()
             .$css({})
             .$html('')
             .$text(\`Target Element \${i + 1}\`)
             .$show();
        el.removeAttribute('style');
        el.className = 'target-element demo-target';
    });
}`
                }
            }
        };

        // Modal functionality
        $('.view-source-btn').$eon('click', function() {
            const demoType = $(this).$data('demo');
            const demo = sourceCode[demoType];
            
            if (demo) {
                showSourceModal(demo.title, demo.sections);
            }
        });

        function showSourceModal(title, sections) {
            $('#modal-title').$text(title);
            const modalBody = $('#modal-body');
            modalBody.$html('');
            
            Object.keys(sections).forEach(sectionName => {
                const sectionHtml = `
                    <div class="source-section">
                        <h4>${sectionName}:</h4>
                        <pre class="source-code"><code>${escapeHtml(sections[sectionName])}</code></pre>
                    </div>
                `;
                modalBody.$append(sectionHtml);
            });
            
            $('#source-modal').$addClass('active');
        }

        function escapeHtml(text) {
            const map = {
                '&': '&amp;',
                '<': '&lt;',
                '>': '&gt;',
                '"': '&quot;',
                "'": '&#039;'
            };
            return text.replace(/[&<>"']/g, m => map[m]);
        }

        // Close modal functionality
        $('#close-modal').$eon('click', () => {
            $('#source-modal').$removeClass('active');
        });

        $('#source-modal').$eon('click', function(e) {
            if (e.target === this) {
                $(this).$removeClass('active');
            }
        });

        // ===== DEMO FUNCTIONALITY =====
        // Initialize particles animation
        $('.particle').$ea((i, el) => {
            el.style.animationDelay = `${i * 0.5}s`;
        });

        // Box interaction
        $('.box').$eon('click', function() {
            $(this).$toggleClass('active');
            updateStats();
        });

        // Reset boxes
        $('#reset-boxes').$eon('click', () => {
            $('.box').$removeClass('active');
            $('#count-result').$text('All boxes reset!');
            updateStats();
        });

        // Activate all boxes
        $('#activate-all').$eon('click', () => {
            $('.box').$addClass('active');
            $('#count-result').$text('All boxes activated!');
            updateStats();
        });

        // Count active boxes
        $('#count-active').$eon('click', () => {
            const count = $len('.box.active');
            $('#count-result').$text(`Active boxes: ${count} out of ${$len('.box')}`);
        });

        // Chain demo
        $('#chain-btn').$eon('click', () => {
            $('#chain-demo')
                .$css({ transform: 'scale(1)', borderRadius: '10px', background: 'linear-gradient(45deg, #ff6b6b, #ffe66d)' })
                .$removeClass('spinning');
            
            setTimeout(() => {
                $('#chain-demo')
                    .$addClass('spinning')
                    .$css({ 
                        borderRadius: '50%', 
                        background: 'linear-gradient(45deg, #4ecdc4, #44a3aa)',
                        transform: 'scale(1.2)'
                    })
                    .$attr('data-animated', 'true');
            }, 100);
        });

        // Text input demo
        $('#text-input').$eon('input', function() {
            const value = this.value;
            if (value.length > 0) {
                $('#text-result')
                    .$text(`You typed: ${value}`)
                    .$css({ color: '#4ecdc4', fontWeight: 'bold' });
            } else {
                $('#text-result')
                    .$text('Start typing to see live updates!')
                    .$css({ color: '#888', fontWeight: 'normal' });
            }
        });

        // Style buttons
        $('.style-btn').$eon('click', function() {
            const style = $(this).$attr('data-style');
            const box = $('#style-box');
            
            switch(style) {
                case 'rainbow':
                    box.$css({
                        background: 'linear-gradient(45deg, #ff6b6b, #4ecdc4, #ffe66d, #ff6b6b)',
                        backgroundSize: '400% 400%',
                        animation: 'gradient 3s ease infinite'
                    });
                    break;
                case 'circle':
                    box.$css({
                        borderRadius: '50%',
                        transform: 'rotate(360deg)'
                    });
                    break;
                case 'big':
                    box.$css({
                        transform: 'scale(1.5)',
                        boxShadow: '0 10px 30px rgba(78, 205, 196, 0.5)'
                    });
                    break;
                case 'reset':
                    box.$css({
                        background: '#333',
                        borderRadius: '10px',
                        transform: 'scale(1)',
                        boxShadow: 'none',
                        animation: 'none'
                    });
                    break;
            }
        });

        // FAQ accordion
        $('.question').$eon('click', function() {
            $(this).$toggleClass('open');
            $(this.nextElementSibling).$toggleClass('hidden');
        });

        // Update stats function
        function updateStats() {
            $('#total-boxes').$text($len('.box'));
            $('#active-boxes').$text($len('.box.active'));
            $('#faq-count').$text($len('.faq-item'));
            $('#btn-count').$text($len('.btn'));
        }

        // Update stats button
        $('#update-stats').$eon('click', updateStats);

        // Initial stats update
        updateStats();

        // Add some interactive hover effects
        $('.btn').$eon('mouseenter', function() {
            $(this).$css({ transform: 'translateY(-2px)' });
        }).$eon('mouseleave', function() {
            $(this).$css({ transform: 'translateY(0)' });
        });

        // ===== NEW DEMO SECTION FUNCTIONALITY =====

        // Dynamic Form Builder Demo
        let fieldCounter = 0;
        
        // Event delegation for form builder buttons
        $('#form-builder').$eonDelegated('click', '[data-field]', function() {
            const fieldType = $(this).$data('field');
            const form = $('#dynamic-form');
            
            if (fieldType === 'clear') {
                form.$html('<p class="placeholder">Your dynamic form will appear here...</p>');
                fieldCounter = 0;
            } else {
                // Remove placeholder if it exists
                form.$find('.placeholder').$remove();
                
                fieldCounter++;
                let fieldHtml = '';
                
                switch(fieldType) {
                    case 'text':
                        fieldHtml = `<div class="form-field">
                            <label for="field-${fieldCounter}">Text Field ${fieldCounter}:</label>
                            <input type="text" id="field-${fieldCounter}" name="field-${fieldCounter}" placeholder="Enter text...">
                        </div>`;
                        break;
                    case 'email':
                        fieldHtml = `<div class="form-field">
                            <label for="field-${fieldCounter}">Email Field ${fieldCounter}:</label>
                            <input type="email" id="field-${fieldCounter}" name="field-${fieldCounter}" placeholder="Enter email...">
                        </div>`;
                        break;
                    case 'select':
                        fieldHtml = `<div class="form-field">
                            <label for="field-${fieldCounter}">Dropdown ${fieldCounter}:</label>
                            <select id="field-${fieldCounter}" name="field-${fieldCounter}">
                                <option value="">Choose option...</option>
                                <option value="option1">Option 1</option>
                                <option value="option2">Option 2</option>
                                <option value="option3">Option 3</option>
                            </select>
                        </div>`;
                        break;
                }
                
                form.$append(fieldHtml);
            }
            
            updateFormData();
        });
        
        // Event delegation for form inputs - comprehensive event handling
        $('#dynamic-form').$eonDelegated('input', 'input, select', function() {
            updateFormData();
        });
        $('#dynamic-form').$eonDelegated('change', 'input, select', function() {
            updateFormData();
        });
        $('#dynamic-form').$eonDelegated('keyup', 'input', function() {
            updateFormData();
        });
        
        function updateFormData() {
            const formData = {};
            const elements = $('#dynamic-form').$find('input, select');
            elements.$ea((i, el) => {
                if (el.name && el.value) {
                    formData[el.name] = el.value;
                }
            });
            $('#form-data').$text(JSON.stringify(formData, null, 2));
        }

        // Interactive Card System Demo
        let cardIdCounter = 3;
        let cards = [
            { id: 1, title: 'Task #1', description: 'Sample task card', starred: false, selected: false },
            { id: 2, title: 'Task #2', description: 'Important starred task', starred: true, selected: false },
            { id: 3, title: 'Task #3', description: '‚úÖ Completed task', starred: false, selected: false }
        ];
        
        function renderCards() {
            const cardContainer = $('#card-container');
            const starredOnly = cardContainer.$data('starredOnly') === 'true';
            
            cardContainer.$html('');
            
            const filteredCards = starredOnly ? cards.filter(card => card.starred) : cards;
            
            filteredCards.forEach(card => {
                const cardHtml = `
                    <div class="card ${card.selected ? 'selected' : ''}" data-id="${card.id}" draggable="true">
                        <div class="card-content">
                            <h4>‚ò∞ ${card.title}</h4>
                            <p>${card.description}</p>
                            <div class="card-meta">
                                <span class="star ${card.starred ? 'starred' : ''}" data-id="${card.id}">‚òÖ</span>
                                <small>ID: ${card.id}${card.selected ? ' | Selected' : ''}</small>
                            </div>
                        </div>
                    </div>
                `;
                cardContainer.$append(cardHtml);
            });
            
            // Attach drag events to newly rendered cards
            attachDragEvents();
        }
        
        $('#add-card').$eon('click', function() {
            cardIdCounter++;
            const newCard = {
                id: cardIdCounter,
                title: `Task #${cardIdCounter}`,
                description: 'New task card',
                starred: false,
                selected: false
            };
            cards.push(newCard);
            renderCards();
        });
        
        $('#shuffle-cards').$eon('click', function() {
            // Randomly rearrange cards and toggle selected state
            cards.forEach(card => {
                card.selected = Math.random() > 0.6; // 40% chance to be selected
            });
            
            // Shuffle the cards array
            for (let i = cards.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [cards[i], cards[j]] = [cards[j], cards[i]];
            }
            
            renderCards();
        });
        
        $('#filter-starred').$eon('click', function() {
            $('#card-container').$data('starredOnly', 'true');
            renderCards();
        });
        
        $('#show-all-cards').$eon('click', function() {
            $('#card-container').$data('starredOnly', 'false');
            renderCards();
        });
        
        // Event delegation for star toggling
        $('#card-container').$eonDelegated('click', '.star', function(e) {
            e.stopPropagation();
            const cardId = parseInt($(this).$data('id'));
            const card = cards.find(c => c.id === cardId);
            if (card) {
                card.starred = !card.starred;
                renderCards();
            }
        });
        
        // Removed click to select - conflicts with drag & drop
        
        // Drag & Drop functionality
        let draggedCardId = null;
        let draggedElement = null;
        
        // Use direct event listeners instead of delegation for drag/drop
        function attachDragEvents() {
            $('.card').$ea((i, card) => {
                card.addEventListener('dragstart', function(e) {
                    draggedCardId = parseInt($(this).$data('id'));
                    draggedElement = this;
                    $(this).$addClass('dragging');
                    e.dataTransfer.effectAllowed = 'move';
                    e.dataTransfer.setData('text/plain', draggedCardId.toString());
                });
                
                card.addEventListener('dragend', function(e) {
                    $(this).$removeClass('dragging');
                    $('.card').$removeClass('drag-over');
                    draggedCardId = null;
                    draggedElement = null;
                });
                
                card.addEventListener('dragover', function(e) {
                    const targetId = parseInt($(this).$data('id'));
                    if (draggedCardId && targetId !== draggedCardId) {
                        e.preventDefault();
                        e.dataTransfer.dropEffect = 'move';
                        $('.card').$removeClass('drag-over');
                        $(this).$addClass('drag-over');
                    }
                });
                
                card.addEventListener('dragleave', function(e) {
                    const rect = this.getBoundingClientRect();
                    const x = e.clientX;
                    const y = e.clientY;
                    if (x < rect.left || x > rect.right || y < rect.top || y > rect.bottom) {
                        $(this).$removeClass('drag-over');
                    }
                });
                
                card.addEventListener('drop', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    $('.card').$removeClass('drag-over');
                    
                    const dropTargetId = parseInt($(this).$data('id'));
                    
                    if (draggedCardId && draggedCardId !== dropTargetId) {
                        const draggedIndex = cards.findIndex(c => c.id === draggedCardId);
                        const targetIndex = cards.findIndex(c => c.id === dropTargetId);
                        
                        if (draggedIndex !== -1 && targetIndex !== -1) {
                            const draggedCard = cards[draggedIndex];
                            cards.splice(draggedIndex, 1);
                            cards.splice(targetIndex, 0, draggedCard);
                            
                            renderCards();
                        }
                    }
                });
            });
        }

        // DOM Tree Explorer Demo
        $('#highlight-parents').$eon('click', function() {
            // Reset all highlighting
            $('.tree-node').$removeClass('highlighted').$removeClass('parent-highlighted').$removeClass('child-highlighted');
            
            // Highlight level 2 nodes (Section A, Section B) as they are parents
            $('.tree-node[data-level="2"]').$ea((i, node) => {
                $(node).$addClass('parent-highlighted');
            });
            
            // Highlight level 1 (Root Container) as the ultimate parent
            $('.tree-node[data-level="1"]').$addClass('highlighted');
        });
        
        $('#highlight-children').$eon('click', function() {
            // Reset all highlighting
            $('.tree-node').$removeClass('highlighted').$removeClass('parent-highlighted').$removeClass('child-highlighted');
            
            // Highlight level 3 nodes (Item 1, 2, 3, Special Item) as they are children
            $('.tree-node[data-level="3"]').$ea((i, node) => {
                $(node).$addClass('child-highlighted');
            });
            
            // Highlight level 2 as the intermediate nodes
            $('.tree-node[data-level="2"]').$addClass('highlighted');
        });
        
        $('#show-hidden').$eon('click', function() {
            $('.tree-node').$show();
        });
        
        $('#hide-some').$eon('click', function() {
            $('.tree-node[data-level="3"]').$ea((i, node) => {
                if (i % 2 === 0) $(node).$hide();
            });
        });
        
        $('#reset-tree').$eon('click', function() {
            $('.tree-node').$removeClass('highlighted').$removeClass('parent-highlighted').$removeClass('child-highlighted').$show();
        });
        
        // Interactive node clicking
        $('.tree-demo').$eonDelegated('click', '.node-label', function() {
            const node = $(this).$parent();
            const level = node.$data('level');
            
            // Toggle highlighting for clicked node and show relationships
            $('.tree-node').$removeClass('highlighted').$removeClass('parent-highlighted').$removeClass('child-highlighted');
            node.$addClass('highlighted');
            
            // Highlight parents
            node.$parent().$addClass('parent-highlighted');
            
            // Highlight children
            node.$find('.tree-node').$addClass('child-highlighted');
        });

        // Real-time Chat Simulator Demo
        let messageCount = 0;
        const botResponses = [
            "That's interesting! ü§î",
            "Tell me more!",
            "I see what you mean üëç",
            "Thanks for sharing!",
            "That sounds great! üòä",
            "Cool story! üìñ",
            "Awesome! ‚≠ê"
        ];
        
        $('#auto-chat').$eon('click', function() {
            const messages = [
                { type: 'system', text: 'Auto chat started!' },
                { type: 'user', text: 'Hello there!' },
                { type: 'bot', text: 'Hi! How are you?' },
                { type: 'user', text: 'I\'m testing this thparq demo!' },
                { type: 'bot', text: 'That\'s awesome! How do you like it?' }
            ];
            
            let delay = 0;
            messages.forEach((msg, index) => {
                setTimeout(() => {
                    addMessage(msg.type, msg.text);
                }, delay);
                delay += 1000;
            });
        });
        
        $('#clear-chat').$eon('click', function() {
            $('#chat-messages').$html('');
            messageCount = 0;
            updateChatStats();
        });
        
        $('#send-message').$eon('click', function() {
            const input = $('#message-input');
            const message = input.$val();
            
            if (message && message.trim()) {
                addMessage('user', message.trim());
                input.$val('');
                
                // Simulate bot response
                setTimeout(() => {
                    const response = botResponses[Math.floor(Math.random() * botResponses.length)];
                    addMessage('bot', response);
                }, 500 + Math.random() * 1000);
            }
        });
        
        // Enter key support for chat
        $('#message-input').$eon('keypress', function(e) {
            if (e.key === 'Enter') {
                $('#send-message')[0].click();
            }
        });
        
        function addMessage(type, text) {
            messageCount++;
            const messageHtml = `<div class="message ${type}">${text}</div>`;
            
            $('#chat-messages').$append(messageHtml);
            
            // Scroll to bottom
            const chatWindow = $('#chat-messages')[0];
            chatWindow.scrollTop = chatWindow.scrollHeight;
            
            updateChatStats();
        }
        
        function updateChatStats() {
            const totalChars = $('#chat-messages').$text().length;
            $('#chat-stats').$text(`Messages: ${messageCount} | Characters: ${totalChars}/100`);
        }

        // Live Code Playground Demo
        const playgroundExamples = {
            'basic': `$('.demo-target')
  .$css({background: 'lightblue', padding: '1rem'})
  .$html('<strong>Dynamic Content!</strong>')
  .$addClass('animated');`,
            'chaining': `$('.demo-target')
  .$text('Chaining Demo')
  .$css({color: 'purple', fontSize: '1.2rem'})
  .$addClass('highlight')
  .$data('demo', 'true');`,
            'events': `$('.demo-target').$ea((i, el) => {
  $(el).$css({background: \`hsl(\${i * 60}, 70%, 80%)\`})
       .$text(\`Element \${i + 1}\`);
});`,
            'manipulation': `$('.demo-target')
  .$append('<div>Appended content</div>')
  .$prepend('<div>Prepended content</div>')
  .$show();`
        };
        
        $('#run-code').$eon('click', function() {
            const code = $('#code-editor').$val();
            
            try {
                // Reset target elements
                resetPlayground();
                
                // Execute the code
                eval(code);
                
                $('#playground-output').$css({color: '#28a745'})
                    .$html('<strong>‚úÖ Code executed successfully!</strong><br>Check the target elements below.');
            } catch (error) {
                $('#playground-output').$css({color: '#dc3545'})
                    .$html(`<strong>‚ùå Error:</strong><br>${error.message}`);
            }
        });
        
        $('#reset-playground').$eon('click', function() {
            resetPlayground();
            $('#playground-output').$css({color: '#6c757d'})
                .$html('Output will appear here when you run code...');
        });
        
        $('#code-examples').$eon('change', function() {
            const example = $(this).$val();
            if (example && example !== '' && playgroundExamples[example]) {
                $('#code-editor').$val(playgroundExamples[example]);
            }
        });
        
        function resetPlayground() {
            $('.demo-target').$ea((i, el) => {
                $(el).$removeClass()
                     .$css({})
                     .$html('')
                     .$text(`Target Element ${i + 1}`)
                     .$show();
                el.removeAttribute('style');
                el.className = 'target-element demo-target';
            });
        }
        
        // Initialize playground
        resetPlayground();
        
        // Initialize form data
        updateFormData();
        
        // Initialize cards on page load
        renderCards();
        // Note: attachDragEvents() is called within renderCards()
        
        // Initialize chat stats
        updateChatStats();

        // Easter egg: Konami code
        let konamiCode = [];
        const konamiPattern = [38, 38, 40, 40, 37, 39, 37, 39, 66, 65];
        
        document.addEventListener('keydown', (e) => {
            konamiCode.push(e.keyCode);
            konamiCode = konamiCode.slice(-10);
            
            if (konamiCode.join(',') === konamiPattern.join(',')) {
                $('body').$css({ animation: 'gradient 2s ease infinite' });
                $('.logo').$text('thparq! üéâ');
                setTimeout(() => {
                    $('body').$css({ animation: 'none' });
                    $('.logo').$text('thparq');
                }, 5000);
            }
        });
    </script>
</body>
</html>
